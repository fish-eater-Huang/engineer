# CAN通信说明文档

## can_monitor

CAN通信发送管理。框架中使用的CAN总线波特率为1Mbps，主要使用数据段长度8byte的标准数据帧，可以计算出CAN总线满带宽每1ms可以成功发出约9个包（具体参考CAN总线通信相关资料）；另外A板和C板所使用的MCU每个CAN通道有3个发送邮箱（mailbox），当3个邮箱被占满未完成发送时，继续添加发送信息会丢失。因此需要合理安排每个周期的CAN通信数据包发送，原则如下：

1. 每条CAN总线每1ms需要收发的数据包总数 $\leq$ 9
2. 每个通道一次性添加的发送数据包数量 $\leq$ 3
3. 高优先级的数据包使用更小的ID，降低非必要的通信频率

相关资料：[CAN通讯协议指南](https://zhuanlan.zhihu.com/p/162708070)
